{
  "smithy": "0.5.0",
  "metadata": {
    "suppressions": [
      {
        "ids": [
          "HttpMethodSemantics"
        ]
      },
      {
        "ids": [
          "HttpResponseCodeSemantics"
        ]
      },
      {
        "ids": [
          "PaginatedTrait"
        ]
      },
      {
        "ids": [
          "HttpHeaderTrait"
        ]
      }
    ]
  },
  "shapes": {
    "com.amazonaws.transcribe.streaming#Alternative": {
      "type": "structure",
      "members": {
        "Items": {
          "target": "com.amazonaws.transcribe.streaming#ItemList",
          "traits": {
            "smithy.api#documentation": "\n         <p>One or more alternative interpretations of the input audio. </p>\n      "
          }
        },
        "Transcript": {
          "target": "com.amazonaws.transcribe.streaming#String",
          "traits": {
            "smithy.api#documentation": "\n         <p>The text that was transcribed from the audio.</p>\n      "
          }
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>A list of possible transcriptions for the audio.</p>\n      "
      }
    },
    "com.amazonaws.transcribe.streaming#AlternativeList": {
      "type": "list",
      "member": {
        "target": "com.amazonaws.transcribe.streaming#Alternative"
      }
    },
    "com.amazonaws.transcribe.streaming#AudioChunk": {
      "type": "blob"
    },
    "com.amazonaws.transcribe.streaming#AudioEvent": {
      "type": "structure",
      "members": {
        "AudioChunk": {
          "target": "com.amazonaws.transcribe.streaming#AudioChunk",
          "traits": {
            "smithy.api#documentation": "\n         <p>An audio blob that contains the next part of the audio that you want to transcribe.</p>\n      ",
            "smithy.api#eventPayload": true
          }
        }
      },
      "traits": {
        "smithy.api#documentation": "\n\n         <p>Provides a wrapper for the audio chunks that you are sending.</p>\n      "
      }
    },
    "com.amazonaws.transcribe.streaming#AudioStream": {
      "type": "union",
      "members": {
        "AudioEvent": {
          "target": "com.amazonaws.transcribe.streaming#AudioEvent",
          "traits": {
            "smithy.api#documentation": "\n         <p>A blob of audio from your application. You audio stream consists of one or more audio\n      events.</p>\n      "
          }
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>Represents the audio stream from your application to Amazon Transcribe.</p>\n      "
      }
    },
    "com.amazonaws.transcribe.streaming#BadRequestException": {
      "type": "structure",
      "members": {
        "Message": {
          "target": "com.amazonaws.transcribe.streaming#String"
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>One or more arguments to the <code>StartStreamTranscription</code> operation was invalid.\n      For example, <code>MediaEncoding</code> was not set to <code>pcm</code> or\n        <code>LanguageCode</code> was not set to a valid code. Check the parameters and try your\n      request again.</p>\n      ",
        "smithy.api#error": "client",
        "smithy.api#httpError": 400
      }
    },
    "com.amazonaws.transcribe.streaming#Boolean": {
      "type": "boolean"
    },
    "com.amazonaws.transcribe.streaming#ConflictException": {
      "type": "structure",
      "members": {
        "Message": {
          "target": "com.amazonaws.transcribe.streaming#String"
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>A new stream started with the same session ID. The current stream has been\n      terminated.</p>\n      ",
        "smithy.api#error": "client",
        "smithy.api#httpError": 409
      }
    },
    "com.amazonaws.transcribe.streaming#Double": {
      "type": "double"
    },
    "com.amazonaws.transcribe.streaming#InternalFailureException": {
      "type": "structure",
      "members": {
        "Message": {
          "target": "com.amazonaws.transcribe.streaming#String"
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>A problem occurred while processing the audio. Amazon Transcribe terminated processing. Try your\n      request again.</p>\n      ",
        "smithy.api#error": "server",
        "smithy.api#httpError": 500
      }
    },
    "com.amazonaws.transcribe.streaming#Item": {
      "type": "structure",
      "members": {
        "Content": {
          "target": "com.amazonaws.transcribe.streaming#String",
          "traits": {
            "smithy.api#documentation": "\n         <p>The word or punctuation that was recognized in the input audio.</p>\n      "
          }
        },
        "EndTime": {
          "target": "com.amazonaws.transcribe.streaming#Double",
          "traits": {
            "smithy.api#documentation": "\n         <p>The offset from the beginning of the audio stream to the end of the audio that resulted in\n      the item.</p>\n      "
          }
        },
        "StartTime": {
          "target": "com.amazonaws.transcribe.streaming#Double",
          "traits": {
            "smithy.api#documentation": "\n         <p>The offset from the beginning of the audio stream to the beginning of the audio that\n      resulted in the item.</p>\n      "
          }
        },
        "Type": {
          "target": "com.amazonaws.transcribe.streaming#ItemType",
          "traits": {
            "smithy.api#documentation": "\n         <p>The type of the item. <code>PRONUNCIATION</code> indicates that the item is a word that\n      was recognized in the input audio. <code>PUNCTUATION</code> indicates that the item was\n      interpreted as a pause in the input audio.</p>\n      "
          }
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>A word or phrase transcribed from the input audio.</p>\n      "
      }
    },
    "com.amazonaws.transcribe.streaming#ItemList": {
      "type": "list",
      "member": {
        "target": "com.amazonaws.transcribe.streaming#Item"
      }
    },
    "com.amazonaws.transcribe.streaming#ItemType": {
      "type": "string",
      "traits": {
        "smithy.api#enum": {
          "pronunciation": {
            "name": "PRONUNCIATION"
          },
          "punctuation": {
            "name": "PUNCTUATION"
          }
        }
      }
    },
    "com.amazonaws.transcribe.streaming#LanguageCode": {
      "type": "string",
      "traits": {
        "smithy.api#enum": {
          "en-US": {
            "name": "EN_US"
          },
          "en-GB": {
            "name": "EN_GB"
          },
          "es-US": {
            "name": "ES_US"
          },
          "fr-CA": {
            "name": "FR_CA"
          },
          "fr-FR": {
            "name": "FR_FR"
          },
          "en-AU": {
            "name": "EN_AU"
          }
        }
      }
    },
    "com.amazonaws.transcribe.streaming#LimitExceededException": {
      "type": "structure",
      "members": {
        "Message": {
          "target": "com.amazonaws.transcribe.streaming#String"
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>You have exceeded the maximum number of concurrent transcription streams, are starting\n      transcription streams too quickly, or the maximum audio length of 4 hours. Wait until a stream\n      has finished processing, or break your audio stream into smaller chunks and try your request\n      again.</p>\n      ",
        "smithy.api#error": "client",
        "smithy.api#httpError": 429
      }
    },
    "com.amazonaws.wolverine.common#MediaEncoding": {
      "type": "string",
      "traits": {
        "smithy.api#enum": {
          "pcm": {
            "name": "PCM"
          }
        }
      }
    },
    "com.amazonaws.transcribe.streaming#MediaSampleRateHertz": {
      "type": "integer",
      "traits": {
        "smithy.api#box": true,
        "smithy.api#range": {
          "min": 8000,
          "max": 48000
        }
      }
    },
    "com.amazonaws.transcribe.streaming#RequestId": {
      "type": "string"
    },
    "com.amazonaws.transcribe.streaming#Result": {
      "type": "structure",
      "members": {
        "Alternatives": {
          "target": "com.amazonaws.transcribe.streaming#AlternativeList",
          "traits": {
            "smithy.api#documentation": "\n         <p>A list of possible transcriptions for the audio. Each alternative typically contains one\n        <code>item</code> that contains the result of the transcription.</p>\n      "
          }
        },
        "EndTime": {
          "target": "com.amazonaws.transcribe.streaming#Double",
          "traits": {
            "smithy.api#documentation": "\n         <p>The offset in seconds from the beginning of the audio stream to the end of the\n      result.</p>\n      "
          }
        },
        "IsPartial": {
          "target": "com.amazonaws.transcribe.streaming#Boolean",
          "traits": {
            "smithy.api#documentation": "\n         <p>Amazon Transcribe divides the incoming audio stream into segments at natural points in the audio.\n      Transcription results are returned based on these segments. </p>\n         <p>The <code>IsPartial</code> field is <code>true</code> to indicate that Amazon Transcribe has\n      additional transcription data to send, <code>false</code> to indicate that this is the last\n      transcription result for the segment.</p>\n      "
          }
        },
        "ResultId": {
          "target": "com.amazonaws.transcribe.streaming#String",
          "traits": {
            "smithy.api#documentation": "\n         <p>A unique identifier for the result. </p>\n      "
          }
        },
        "StartTime": {
          "target": "com.amazonaws.transcribe.streaming#Double",
          "traits": {
            "smithy.api#documentation": "\n         <p>The offset in seconds from the beginning of the audio stream to the beginning of the\n      result.</p>\n      "
          }
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>The result of transcribing a portion of the input audio stream. </p>\n      "
      }
    },
    "com.amazonaws.transcribe.streaming#ResultList": {
      "type": "list",
      "member": {
        "target": "com.amazonaws.transcribe.streaming#Result"
      }
    },
    "com.amazonaws.transcribe.streaming#SessionId": {
      "type": "string",
      "traits": {
        "smithy.api#pattern": "[a-fA-F0-9]{8}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{4}-[a-fA-F0-9]{12}"
      }
    },
    "com.amazonaws.transcribe.streaming#StartStreamTranscription": {
      "type": "operation",
      "input": {
        "target": "com.amazonaws.transcribe.streaming#StartStreamTranscriptionRequest"
      },
      "output": {
        "target": "com.amazonaws.transcribe.streaming#StartStreamTranscriptionResponse"
      },
      "errors": [
        {
          "target": "com.amazonaws.transcribe.streaming#BadRequestException"
        },
        {
          "target": "com.amazonaws.transcribe.streaming#ConflictException"
        },
        {
          "target": "com.amazonaws.transcribe.streaming#InternalFailureException"
        },
        {
          "target": "com.amazonaws.transcribe.streaming#LimitExceededException"
        }
      ],
      "traits": {
        "smithy.api#documentation": "\n         <p>Starts a bidirectional HTTP2 stream where audio is streamed to Amazon Transcribe and the transcription\n      results are streamed to your application.</p>\n         <p>The following are encoded as HTTP2 headers:</p>\n         <ul>\n            <li>\n               <p>x-amzn-transcribe-language-code</p>\n            </li>\n            <li>\n               <p>x-amzn-transcribe-media-encoding</p>\n            </li>\n            <li>\n               <p>x-amzn-transcribe-sample-rate</p>\n            </li>\n            <li>\n               <p>x-amzn-transcribe-session-id</p>\n            </li>\n         </ul>\n      ",
        "smithy.api#http": {
          "method": "POST",
          "uri": "/stream-transcription",
          "code": 200
        }
      }
    },
    "com.amazonaws.transcribe.streaming#StartStreamTranscriptionRequest": {
      "type": "structure",
      "members": {
        "AudioStream": {
          "target": "com.amazonaws.transcribe.streaming#AudioStream",
          "traits": {
            "smithy.api#documentation": "\n         <p>PCM-encoded stream of audio blobs. The audio stream is encoded as an HTTP2 data\n      frame.</p>\n      ",
            "smithy.api#eventStream": true,
            "smithy.api#httpPayload": true
          }
        },
        "LanguageCode": {
          "target": "com.amazonaws.transcribe.streaming#LanguageCode",
          "traits": {
            "smithy.api#documentation": "\n         <p>Indicates the source language used in the input audio stream.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-language-code",
            "smithy.api#required": true
          }
        },
        "MediaEncoding": {
          "target": "com.amazonaws.wolverine.common#MediaEncoding",
          "traits": {
            "smithy.api#documentation": "\n         <p>The encoding used for the input audio. </p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-media-encoding",
            "smithy.api#required": true
          }
        },
        "MediaSampleRateHertz": {
          "target": "com.amazonaws.transcribe.streaming#MediaSampleRateHertz",
          "traits": {
            "smithy.api#documentation": "\n         <p>The sample rate, in Hertz, of the input audio. We suggest that you use 8000 Hz for low\n      quality audio and 16000 Hz for high quality audio.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-sample-rate",
            "smithy.api#required": true
          }
        },
        "SessionId": {
          "target": "com.amazonaws.transcribe.streaming#SessionId",
          "traits": {
            "smithy.api#documentation": "\n         <p>A identifier for the transcription session. Use this parameter when you want to retry a\n      session. If you don't provide a session ID, Amazon Transcribe will generate one for you and return it in\n      the response.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-session-id"
          }
        },
        "VocabularyName": {
          "target": "com.amazonaws.wolverine.common#VocabularyName",
          "traits": {
            "smithy.api#documentation": "\n         <p>The name of the vocabulary to use when processing the transcription job.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-vocabulary-name"
          }
        }
      }
    },
    "com.amazonaws.transcribe.streaming#StartStreamTranscriptionResponse": {
      "type": "structure",
      "members": {
        "LanguageCode": {
          "target": "com.amazonaws.transcribe.streaming#LanguageCode",
          "traits": {
            "smithy.api#documentation": "\n         <p>The language code for the input audio stream.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-language-code"
          }
        },
        "MediaEncoding": {
          "target": "com.amazonaws.wolverine.common#MediaEncoding",
          "traits": {
            "smithy.api#documentation": "\n         <p>The encoding used for the input audio stream.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-media-encoding"
          }
        },
        "MediaSampleRateHertz": {
          "target": "com.amazonaws.transcribe.streaming#MediaSampleRateHertz",
          "traits": {
            "smithy.api#documentation": "\n         <p>The sample rate for the input audio stream. Use 8000 Hz for low quality audio and 16000 Hz\n      for high quality audio.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-sample-rate"
          }
        },
        "RequestId": {
          "target": "com.amazonaws.transcribe.streaming#RequestId",
          "traits": {
            "smithy.api#documentation": "\n         <p>An identifier for the streaming transcription.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-request-id"
          }
        },
        "SessionId": {
          "target": "com.amazonaws.transcribe.streaming#SessionId",
          "traits": {
            "smithy.api#documentation": "\n         <p>An identifier for a specific transcription session.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-session-id"
          }
        },
        "TranscriptResultStream": {
          "target": "com.amazonaws.transcribe.streaming#TranscriptResultStream",
          "traits": {
            "smithy.api#documentation": "\n         <p>Represents the stream of transcription events from Amazon Transcribe to your application.</p>\n      ",
            "smithy.api#eventStream": true,
            "smithy.api#httpPayload": true
          }
        },
        "VocabularyName": {
          "target": "com.amazonaws.wolverine.common#VocabularyName",
          "traits": {
            "smithy.api#documentation": "\n         <p>The name of the vocabulary used when processing the job.</p>\n      ",
            "smithy.api#httpHeader": "x-amzn-transcribe-vocabulary-name"
          }
        }
      }
    },
    "com.amazonaws.transcribe.streaming#String": {
      "type": "string"
    },
    "com.amazonaws.transcribe.streaming#Transcribe": {
      "type": "service",
      "version": "2017-10-26",
      "operations": [
        {
          "target": "com.amazonaws.transcribe.streaming#StartStreamTranscription"
        }
      ],
      "traits": {
        "aws.api#service": {
          "sdkId": "Transcribe Streaming",
          "arnNamespace": "transcribe",
          "cloudFormationName": "TranscribeStreaming",
          "cloudTrailEventSource": "streaming.transcribe.amazonaws.com"
        },
        "smithy.api#documentation": "\n         <p>Operations and objects for transcribing streaming speech to text.</p>\n      ",
        "smithy.api#protocols": [
          {
            "name": "aws.rest-json-1.1",
            "auth": [
              "aws.v4"
            ]
          }
        ],
        "smithy.api#title": "Amazon Transcribe Streaming Service"
      }
    },
    "com.amazonaws.transcribe.streaming#Transcript": {
      "type": "structure",
      "members": {
        "Results": {
          "target": "com.amazonaws.transcribe.streaming#ResultList",
          "traits": {
            "smithy.api#documentation": "\n         <p>\n            <a>Result</a> objects that contain the results of transcribing a portion of the\n      input audio stream. The array can be empty.</p>\n      "
          }
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>The transcription in a <a>TranscriptEvent</a>.</p>\n      "
      }
    },
    "com.amazonaws.transcribe.streaming#TranscriptEvent": {
      "type": "structure",
      "members": {
        "Transcript": {
          "target": "com.amazonaws.transcribe.streaming#Transcript",
          "traits": {
            "smithy.api#documentation": "\n         <p>The transcription of the audio stream. The transcription is composed of all of the items\n      in the results list.</p>\n      "
          }
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>Represents a set of transcription results from the server to the client. It contains one\n      or more segments of the transcription.</p>\n      "
      }
    },
    "com.amazonaws.transcribe.streaming#TranscriptResultStream": {
      "type": "union",
      "members": {
        "BadRequestException": {
          "target": "com.amazonaws.transcribe.streaming#BadRequestException",
          "traits": {
            "smithy.api#documentation": "\n         <p>A client error occurred when the stream was created. Check the parameters of the request\n      and try your request again.</p>\n      "
          }
        },
        "ConflictException": {
          "target": "com.amazonaws.transcribe.streaming#ConflictException",
          "traits": {
            "smithy.api#documentation": "\n         <p>A new stream started with the same session ID. The current stream has been\n      terminated.</p>\n      "
          }
        },
        "InternalFailureException": {
          "target": "com.amazonaws.transcribe.streaming#InternalFailureException",
          "traits": {
            "smithy.api#documentation": "\n         <p>A problem occurred while processing the audio. Amazon Transcribe terminated processing.</p>\n      "
          }
        },
        "LimitExceededException": {
          "target": "com.amazonaws.transcribe.streaming#LimitExceededException",
          "traits": {
            "smithy.api#documentation": "\n         <p>Your client has exceeded one of the Amazon Transcribe limits, typically the limit on audio length.\n      Break your audio stream into smaller chunks and try your request again.</p>\n      "
          }
        },
        "TranscriptEvent": {
          "target": "com.amazonaws.transcribe.streaming#TranscriptEvent",
          "traits": {
            "smithy.api#documentation": "\n         <p>A portion of the transcription of the audio stream. Events are sent periodically from\n      Amazon Transcribe to your application. The event can be a partial transcription of a section of the audio\n      stream, or it can be the entire transcription of that portion of the audio stream.\n      </p>\n      "
          }
        }
      },
      "traits": {
        "smithy.api#documentation": "\n         <p>Represents the transcription result stream from Amazon Transcribe to your application.</p>\n      "
      }
    },
    "com.amazonaws.wolverine.common#VocabularyName": {
      "type": "string",
      "traits": {
        "smithy.api#length": {
          "min": 1,
          "max": 200
        },
        "smithy.api#pattern": "^[0-9a-zA-Z._-]+"
      }
    }
  }
}
